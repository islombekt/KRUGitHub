@model KRU.Models.Tasks
@*@using KRU.Models*@
@{
ViewData["Title"] = "Create";
ViewData["FileType"] = "";
}
<div class="card box-shadow card-simple-form card-small">
    <h1>Яратиш</h1>

    <h4>Топшириқлар</h4>
    <hr/>
    <div class="row">
        <div class="col-12">
            <form class="kru custom-validation" asp-action="Create">
                <div class="kru-form-container-small">
                    <div class="form-group">
                        <label>Топшириқ номи</label>
                        <input asp-for="TaskName" class="form-control" />
                        <span class="invalid-feedback"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="TaskStarted" class="control-label">Бошланиш санаси</label>
                        <input asp-for="TaskStarted" class="form-control" />
                        <span class="invalid-feedback"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="TaskEnd" class="control-label">Тугаш санаси</label>
                        <input asp-for="TaskEnd" class="form-control" />
                        <span class="invalid-feedback"></span>
                    </div>

                    <div class="form-group">
                        <label>Асос тури</label>
                        <select asp-for="TaskTypeId" class="form-control" asp-items="ViewBag.TaskTypeId"></select>
                    </div>

                    <div class="form-group">
                        <label>Асосларни бириктириш</label>
                        <div class="kru-toggle-files">
                            <div class="switch_container">
                                <label class="switch">
                                    <input type="checkbox" id="clickFile">
                                    <span class="slider round"></span>
                                </label>
                            </div>
                            <div id="fileSelect" class="form-group display-none">
                                <select id="ListFile" name="ListofFiles" asp-items="ViewBag.File" asp-for="File"
                                        data-placeholder="Асосларни танланг" class="select2 multiple-select" multiple="multiple" style="width:100%;">
                                </select>
                                <span class="invalid-feedback"></span>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Ходимларни бириктириш</label>
                        <div class="kru-toggle-files">
                            <div class="switch_container">
                                <label class="switch">
                                    <input type="checkbox" id="clickEmp">
                                    <span class="slider round"></span>
                                </label>
                            </div>
                            <div id="EmpSelect" class="form-group display-none">
                                <select id="ListEmp" name="ListofEmp" asp-items="ViewBag.Emp" 
                                        data-placeholder="Ходимларни танланг" class="select2 multiple-select" multiple="multiple" style="width:100%;">
                                </select>
                                <span class="invalid-feedback"></span>
                            </div>
                        </div>
                    </div>


                </div>

                <div class="form-button-container">
                    <a class="btn btn-outline-primary mr-3 no-outline" asp-action="Index">
                        <i class="fas fa-arrow-left mr-2" ></i>Ортга қайтиш
                    </a>
                    <input type="submit" id="btnSave" value="Яратиш" class="btn btn-primary"/>
                </div>
            </form>
        </div>
    </div>
</div>


@section Scripts {

<script type="text/javascript">
    //Initialize Select2 Elements
    $(document).ready(function () {
        $('.select2').select2()
        $('#clickFile').click(function () {
            $('#fileSelect').css('display', 'none');
        }, function () {
            $('#fileSelect').css('display', 'inline');
        });

        $("#btnSave").click(function () {
            SaveSelectedFiles();
        });

        $("#clickFile").click(function () {
            if($(this).prop('checked')){
                $("#fileSelect").css({display: 'inline'});
            } else{
                $("#fileSelect").css({display: 'none'});
            }
        });

        $("#clickEmp").click(function () {
            if ($(this).prop('checked')) {
                $("#EmpSelect").css({ display: 'inline' });
            } else {
                $("#EmpSelect").css({ display: 'none' });
            }
        });
           });


</script>
@{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}


